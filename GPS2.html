<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GPS Test</title>
<script>

if( navigator.geolocation ) {
alert("GPS已被定位....千萬不可以動手!!!");
// 支援GPS地理定位
navigator.geolocation.getCurrentPosition( geoYes, geoNo);
}
else {
alert("目前GPS無法定位....趕快補刀吧!!!");
}
function geoYes(evt){
//alert(evt);
str = "緯度" + evt.coords.latitude;
str += "<br />經度" + evt.coords.longitude;
str += "<br />精確度" + evt.coords.accuracy;
// str += 等於=> str = str+....
document.getElementById("posStr").innerHTML=str;
}

function geoNo(evt){
alert("GPS取得失敗");
}



var watchID;
function startGPS(){
watchID = navigator.geolocation.watchPosition( geoYes, geoNo);
document.getElementById("watchStr").innerHTML="GPS正在監控中...";
}
function stopGPS(){
navigator.geolocation.clearWatch( watchID );
document.getElementById("watchStr").innerHTML="GPS停止監控中...";
}
</script>
</head>
<body>
<h1>定位資訊 </h1>
<p id="posStr">no data</p>
<p id="watchStr">監控狀態</p>
<p>
<input type="button" value="啟動GPS更新" onClick="startGPS();">
<input type="button" value="停止GPS更新" onClick="stopGPS();">
</p>
<p>當啟動GPS更新,不用聯網也可持續更新!!!<br>
只要網頁開著!</p>
</body> 